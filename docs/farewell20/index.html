<!DOCTYPE html>
<html>
  <head>
    <title>Farewell 2020</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta version="v.1.0.1">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
	<link rel="icon" href="favicon.ico" sizes="16x16">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700;800&family=Balsamiq+Sans:ital,wght@0,400;1,400;1,700&family=Comfortaa:wght@400;700&family=Kalam:wght@300;400;700&family=Lobster&family=Pacifico&display=swap" rel="stylesheet">
	    <style>
html{
background-color:black;
}
body{
background-color:black;
}
.kontener {
color:white;
background-color:black;
    display: table;
    margin: auto;
}
.body {
color:white;
background-color:black;
    display: table-cell;
    vertical-align: middle;
	width: 500px;
	padding: 20px;
    font-family: 'Baloo 2', cursive;
	}

	th, td {
    padding: 3px;
	padding-left: 10px;
	text-align: left; 
    vertical-align: middle;	
	}
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}
.form-check-input[type=radio]{border-radius:50%}
.form-check-input:active{-webkit-filter:brightness(90%);filter:brightness(90%)}
.form-check-input:focus{border-color:#a38a52;outline:0;box-shadow:0 0 5px .1rem #e8c984}
.form-check-input:checked{background-color:#a38a52;border-color:#fff}
.form-check-input:checked[type=checkbox]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e")}
.form-check-input:checked[type=radio]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e")}
.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e")}
.form-check-input:disabled{pointer-events:none;-webkit-filter:none;filter:none;opacity:.5}
.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{opacity:.5}

.form-control:focus{color:#495057;background-color:#fff;border-color:#a38a52;outline:0;box-shadow:0 0 0 .1rem #b59b62}

.btn-primary{color:#fff;background-color:#dbad42;border-color:#dbad42}
.btn-primary:focus{color:#fff;background-color:#a38a52;border-color:#a38a52;box-shadow:0 0 0 .2rem #e8c984}
.btn-primary:hover{color:#fff;background-color:#c2a259;border-color:#c2a259}
.btn-primary:active{color:#fff;background-color:#a38a52;border-color:#dbad42}
.btn-primary:focus:active{
  background-image: none;
  outline: 0;
  box-shadow: none;
}
.btn-primary:disabled,
.btn-primary[disabled]{
  border: 1px solid #999999;
  background-color: #cccccc;
  color: #666666;
}
.dropdown-item:focus{background-color: #c2a259}
.dropdown-item:active{background-color: #dbad42}
.dropdown-item.active {background-color: #f5bc38}
</style>
  </head>
  <body>
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #dbad42;">
  <div class="container-fluid">
    <span class="navbar-brand">
      <img src="icon.png" width="30" height="30" class="d-inline-block align-top" alt="" loading="lazy">
      Himasurya PKN STAN
    </span>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">

      </ul>
    </div>
  </div>
</nav>
<!-- Modal -->
<div class="modal fade" id="welcome" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel" id="headerintro">Congrats mas mbak ee ðŸŽ‰ðŸŽ‰</h5>
        <h5 class="modal-title" id="staticBackdropLabel" id="headerintro1" style="display:none">Dimana acaranya???</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5>Selamat Wisuda buat mas mbak angkatan 2017 </h5><br>Ciyee, dah lulus aja nih. Oiya, <b>Himasurya</b> mau ngerayain momen spesial ini nih dengan acara
        <h6 style="text-align:center">"Farewell Himasurya 2020"</h6>
        Acaranya akan dilaksanakan pada hari <b>Rabu, 14 Oktober 2020</b> di :<br><br>
        <div align=center><a href="https://goo.gl/maps/LVQjrAcfsCW2aiib7" target="_blank" style="color:black;text-decoration: none"><b>BOBER Cafe</b><img src="https://cdn.iconscout.com/icon/free/png-512/google-maps-3-569475.png" alt="rumah" width="20" height="20"><br>
        Jl. Raya Jemursari No.70<br>Jemur Wonosari, Kec. Wonocolo<br>Surabaya</a></div><br>
        Acara ini terbuka untuk <b>seluruh</b> arek Himasurya PKN STAN. Khusus mas mbak angkatan 2017 bakal dapet merchandise cantik sebagai kenang-kenangan. So, langsung sikat rekk...
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary" id="btnintro1">Okee Gass</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="suksesubah" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Perubahan Data</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Perubahan data berhasil tersimpan.
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalemail" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Ubah Kehadiran</h5>
      </div>
      <div class="modal-body">
	  <table><tr><td>Email : </td>
	  <td>
        <input id="emailmodal" type="email" class="form-control" placeholder="Contoh : sopojarwo@gmail.com" onkeydown="myFunctionModal(event)" onkeyup="myFunction2Modal(event)">
	  </td></tr>
	  <tr><td colspan="2">
        Email ini akan digunakan untuk pengiriman <i> E-Ticket </i>. Jadi pastikan email tersebut aktif<br>
		</td></tr>
	  </table>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary" onclick=test()>Lanjut</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="batalberhasil" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Pembatalan Kehadiran</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Pembatalan kehadiran berhasil
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="simpanberhasil" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">RSVP Farewell Himasurya 2020</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="isiselamat" class="modal-body">
        Pengisian RSVP kamu Berhasil.<br>Terima kasih atas partisipasi kamu. E-ticket akan dikirimkan ke email yang sudah diisikan maksimal dalam 24 jam. Pastikan kembali data kamu sudah tersimpan dengan memasukkan kembali Nama, Angkatan, dan No. <i>Whatsapp</i> yang sama pada RSVP berikut.
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="simpangakhadir" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Pengiriman RSVP</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Pengisian RSVP kamu Berhasil.<br>Terima kasih atas partisipasi kamu.
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Konfirmasi RSVP</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Apakah data yang dimasukkan sudah benar
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tidak</button>
        <button type="button" data-dismiss="modal" onclick="next()" class="btn btn-primary">Ya</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="gaklengkap" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Data belum lengkap</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Hayoo, jek onok seng kosong iki. Monggo diisi sek
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oiyo se</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalerror" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Server Error</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Exception Error : Data tidak dapat tersimpan sesuai permintaan. Silahkan coba lagi
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" onclick="refresh()" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalbatal" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Konfirmasi Pembatalan Kehadiran</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Kamu yakin gajadi dateng ke acara <b>Farewell Himasurya 2020</b>?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tidak</button>
        <button type="button" data-dismiss="modal" onclick="batalhadir()" class="btn btn-primary">Ya, saya yakin</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalubah" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Konfirmasi Perubahan Kehadiran</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Apakah kamu bersedia hadir pada acara <b>Farewell Himasurya 2020</b> ??
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Tidak</button>
        <button type="button" data-dismiss="modal" onclick="batalgakhadir()" class="btn btn-primary">Ya</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="sukseshadir" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Perubahan Kehadiran</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Perubahan kehadiran berhasil tercatat. <i>E-Ticket</i> akan dikirimkan ke email kamu maksimal dalam 24 jam.
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalwaganda" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Data Ganda</h5>
      </div>
      <div class="modal-body">
        Nomor <i>whatsapp</i> sudah didaftarkan oleh orang lain. Cek kembali nomor yang kamu masukkan. Jika benar silahkan klik <b>Narahubung</b> untuk informasi lebih lanjut
      </div>
      <div class="modal-footer">
        <a href="https://wa.me/6281232358986" target="_blank"><button type="button" class="btn btn-secondary">Narahubung</button></a>
        <button type="button" data-dismiss="modal" class="btn btn-primary" onclick="refresh()">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalcopy" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Pembayaran</h5>
      </div>
      <div class="modal-body">
        <span id="copy"></span>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary">Lanjut</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="kuotapenuh" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Mohon maaf</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Peserta yang hadir sudah mencapai batas maksimal. Silahkan <i>refresh</i> kembali lagi setelah beberapa saat.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" onclick="refresh()">Oke</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="expired" role="dialog" data-backdrop="static" data-keyboard="false" tabindex="-1"
      aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Mohon maaf</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Masa pengisian RSVP sudah berakhir. Nantikan acara Himasurya selanjutnya rekk..
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" >Oke</button>
      </div>
    </div>
  </div>
</div>

<div class="kontener">
<div class="body">
<h1 style="text-align:center;font-family:Lobster;cursive;">Himasurya Farewell 2020</h1>
  <h3 style="text-align:center">RSVP</h3>
  <br>
<span><h6>Nama Lengkap</h6></span>
<input id="nama" type="text" class="form-control" id="exampleFormControlInput1" placeholder="Contoh : Culo Boyo"><br>
<h6>Angkatan</h6>
<table>
<tr><td>
<div class="form-check">
		<input class="form-check-input" type="radio" name="radioangkatan" id="2017" onclick="pilihan()">
		<label class="form-check-label" for="2017">
		2017
		</label>
	</div></td>
<td>
	<div class="form-check">
		<input class="form-check-input" type="radio" name="radioangkatan" id="2018" onclick="pilihan()">
		<label class="form-check-label" for="2018">
		2018
		</label>
	</div>
	</td>
<td>
	<div class="form-check">
		<input class="form-check-input" type="radio" name="radioangkatan" id="2019" onclick="pilihan()">
		<label class="form-check-label" for="2019">
		2019
		</label>
	</div>
	</td>
</tr>
</table><br>
<h6>Nomor <i>Whatsapp</i></h6>
<input id="wa" type="number" class="form-control" id="exampleFormControlInput1" placeholder="Contoh : 0811113535"><br>
<div id="kehadiran" style="display:none">
<h6>Bersedia hadir Farewell</h6>
<table>
<tr>
<td>
<div class="form-check">
		<input class="form-check-input" type="radio" name="flexRadioDefault" id="hadir" onclick="pilihan()">
		<label class="form-check-label" for="hadir">
		Hadir
		</label>
	</div></td>
<td>
	<div class="form-check">
		<input class="form-check-input" type="radio" name="flexRadioDefault" id="gakhadir" onclick="pilihan()">
		<label class="form-check-label" for="gakhadir">
		Tidak hadir
		</label>
	</div>
	</td>
<td>
<button type="button" id="btnbatal" class="btn btn-secondary" style="display:none" onclick=ubahkehadiran()>Ubah Kehadiran</button>
<button id="loadbatal" class="btn btn-secondary" type="button" style="display : none;" disabled>
  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
  Loading...
</button>
</td></tr></table>
<br>
<div id="jikahadir" style="display:none">
<h6>Email</h6>
<input id="email" type="text" class="form-control" placeholder="Contoh : sopojarwo@gmail.com" onkeydown="myFunction(event)" onkeyup="myFunction2(event)">
Email ini akan digunakan untuk pengiriman <i>E-Ticket</i>. Jadi pastikan email tersebut aktif
<br><br>
 </div>
 </div>
   <div align="center">
 <div id="pembayaran" style="display:none">
 <h6>Pembayaran</h6>
<div id="belumbayar">
Silahkan transfer ke rekening berikut :<br>
<b>BCA 4740706921 a/n TANIA PUTRI PRATIWI</b> 
<button style="font-size:75%" type="button"onclick="salin('Nomor Rekening BCA a/n TANIA PUTRI PRATIWI','4740706921')" class="btn btn-secondary">copy</button><br>
Nominal : <b>Rp35.000 </b><button style="font-size:75%" type="button"onclick="salin('Nominal transfer','35000')" class="btn btn-secondary">copy</button><br>
<div id="belumupload">Selanjutnya silahkan upload foto bukti transfer (format .jpg ataupun .png) dibawah ini</div>
<input id="file" align="center" type="file" onchange="saveFile(this)" />
<div id="upload" align="center" style="display:none">
<div align="center" class="spinner-border" role="status">
  <span align="center" class="sr-only">Loading...</span>
</div>
  Uploading...
</div>
<img class="center" id="buktitrf" alt="bukti_transfer"  style="display:none">
<div id="suksesupload" style="display:none"><span style="color:orange"><b>Pending</b></span><br>
Bukti transfer berhasil dikirim. Menunggu konfirmasi</div>
</div>
<div id="sudahbayar">
<span style="color:green"><b>Pembayaran Diterima</b></span><br>
<i>E-ticket</i> sudah dikirim ke <i>Email</i> yang sudah didaftarkan
</div>
</div>
</div>
<br>
  <table align="center">
  <tr>
  <td>
<div id="tombol" align="center">
<button type="button" id="btnceknomor"onclick="ceknomor()" class="btn btn-primary"><b>Next</b></button>
<button type="button" id="btnnext" data-toggle="modal" data-target="#myModal" class="btn btn-primary" style="display:none" ><b>Submit</b></button>
<button type="button" id="btnsubmit"onclick="submit()" class="btn btn-primary" style="display:none">Submit</button>
</div>
<button id="load" class="btn btn-primary" type="button" style="display : none;" disabled>
  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
  <span id="kataloading">Loading...</span>
</button>
</td>
<div id="tombolsecond" align="center">
<td>
<button type="button" id="btns1"onclick="ubahdata()" class="btn btn-secondary" style="display:none;">Ubah Data</button>
<button type="button" id="btns2"onclick="batalubah()" class="btn btn-secondary" style="display:none;">Batalkan perubahan</button>
</td>
</div>
</tr>
</table>
</div>
</div>
<script>
var hasil
var tglexpired = "7"
var jamexpired = "10"
function konversinomor(str){
  var res = str.slice(0,1);
  var res2 = str.slice(1,str.length);
  res = res.replace("0","62")
  str = res+res2
  return str
  }
function balikinnomor(str){
  var res = str.slice(0,2);
  var res2 = str.slice(2,str.length);
  res = res.replace("62","0")
  str = res+res2
  return str
  }
function masuklocal(){
localStorage.setItem("nama", document.getElementById("nama").value);
localStorage.setItem("wa", document.getElementById("wa").value);
var angkatan = "2017"
if (document.getElementById("2018").checked){angkatan="2018"}
else if (document.getElementById("2019").checked){angkatan="2019"}
localStorage.setItem("angkatan", angkatan);
localStorage.setItem("email", document.getElementById("email").value);
if (document.getElementById("hadir").checked){localStorage.setItem("rsvp","hadir")}
else {localStorage.setItem("rsvp","gakhadir")}
}
function awal() {
if (localStorage.getItem("edit") != null){
clearstorage()
localStorage.removeItem("edit")
}
else if (localStorage.getItem("hapus") != null){
var myModal = new bootstrap.Modal(document.getElementById("batalberhasil"), {backdrop:'static',keyboard:false});
myModal.show();
clearstorage()
localStorage.removeItem("hapus")
}
else if (localStorage.getItem("hadir") != null){
var myModal = new bootstrap.Modal(document.getElementById("sukseshadir"), {backdrop:'static',keyboard:false});
myModal.show();
localStorage.removeItem("hadir")
}
else if (localStorage.getItem("simpan") != null){
if(localStorage.getItem("simpan") == "gakhadir"){document.getElementById("isiselamat").innerHTML = "Yahh..<i>eman</i> kamu ga dateng, padahal acaranya seru loh.<br>Kalau kamu berubah pikiran untuk dateng, isi kembali form ini menggunakan nomor <i>Whatsapp</i> yang sudah kamu isikan tadi ya.."}
var myModal = new bootstrap.Modal(document.getElementById("simpanberhasil"), {backdrop:'static',keyboard:false});
myModal.show();
localStorage.removeItem("simpan")
}
else if (localStorage.getItem("ubah") != null){
var myModal = new bootstrap.Modal(document.getElementById("suksesubah"), {backdrop:'static',keyboard:false});
myModal.show();
localStorage.removeItem("ubah")
}
else {
var now = new Date()
var tglnow = now.getDate()
var jamnow = now.getHours()
if ( parseInt(tglnow) > parseInt(tglexpired) || (parseInt(tglnow) == parseInt(tglexpired) && jamnow >= parseInt(jamexpired)) ){
kunci()
document.getElementById("btnceknomor").disabled = true
var myModal = new bootstrap.Modal(document.getElementById("expired"), {backdrop:'static',keyboard:false});
myModal.show();
}
else {
var myModal = new bootstrap.Modal(document.getElementById("welcome"), {backdrop:'static',keyboard:false});
myModal.show();
localStorage.removeItem("editbaru")}
}
if (localStorage.getItem("nama") != null){
clearstorage()
}
}

function pilihan(){
if (document.getElementById("hadir").checked) {
document.getElementById("jikahadir").style.display = "block";
}
else {document.getElementById("jikahadir").style.display = "none"}
}
function ceknomor() {
if ((document.getElementById("2017").checked+document.getElementById("2018").checked+document.getElementById("2019").checked == 0) || document.getElementById("nama").value == "" || document.getElementById("wa").value == ""){
var myModal = new bootstrap.Modal(document.getElementById("gaklengkap"), {});
myModal.show();
}
else{
document.getElementById("btnceknomor").style.display = "none";
document.getElementById("load").style.display = "block";
var nomor = konversinomor(document.getElementById("wa").value);
kunci()
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=cekwa&wa="+nomor, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	  if (text != "gaada") {
	  text = text.split(",")
	  document.getElementById("nama").value = text[1]
	  document.getElementById(text[2]).checked = true
	  if (text[3] == "hadir"){document.getElementById("jikahadir").style.display = "block"}
	  document.getElementById(text[3]).checked = true
	  document.getElementById("email").value = text[4]
	  document.getElementById("btnnext").style.display = "none";
	  document.getElementById("btnbatal").style.display = "block"
	  sessionStorage.setItem("ID", text[0])
	  }
	  else {
	  document.getElementById("hadir").disabled = false
	  document.getElementById("gakhadir").disabled = false
	  document.getElementById("email").disabled = false
	  document.getElementById("btnnext").style.display = "block";
	  sessionStorage.removeItem("ID")
	  }
	  document.getElementById("kehadiran").style.display = "block";
	  document.getElementById("load").style.display = "none";
    });
  });
}
}
function nomorketemu(hasil) {

document.getElementById("hadir").disabled = false
document.getElementById("gakhadir").disabled = false
document.getElementById("email").disabled = false
document.getElementById("btnnext").style.display = "block";
sessionStorage.setItem("ID","new");
if (hasil != "gaada") {
document.getElementById("btns1").style.display = "table-cell"
sessionStorage.setItem("ID", hasil[0]);
document.getElementById("nama").value = hasil[1]
var angkatan = hasil[2].toString()
document.getElementById(angkatan).checked = true
document.getElementById(hasil[3]).checked = true
document.getElementById("email").value = hasil[4]
document.getElementById("btnnext").style.display = "none";
document.getElementById("btnbatal").style.display = "block"
kunci()
if (hasil[3] == "hadir") {document.getElementById("jikahadir").style.display = "block"}
}
document.getElementById("load").style.display = "none";
document.getElementById("kehadiran").style.display = "block"
}
function next() {
if ((document.getElementById("hadir").checked+document.getElementById("gakhadir").checked == 0) || (document.getElementById("hadir").checked == true && document.getElementById("email").value == "")){
var myModal = new bootstrap.Modal(document.getElementById("gaklengkap"), {});
myModal.show();
}
else{
kunci()
document.getElementById("btnbatal").disabled = true
document.getElementById("btns2").disabled = true
document.getElementById("btnnext").style.display = "none";
document.getElementById("load").style.display = "block";
masuklocal()
var arr = []
if (sessionStorage.getItem("ID") == ""|| sessionStorage.getItem("ID") == null) {sessionStorage.setItem("ID", "new")}
var ID = sessionStorage.getItem("ID")
document.getElementById("kataloading").innerHTML = "Otw banter..."
arr.push(ID)
arr.push(document.getElementById("nama").value)
arr.push(localStorage.getItem("angkatan"))
arr.push(konversinomor(document.getElementById("wa").value))
arr.push(localStorage.getItem("rsvp"))
arr.push(document.getElementById("email").value)
document.getElementById("kataloading").innerHTML = "Gasspoll..."
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=simpan&data="+arr, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	text = text.split(",")
	  document.getElementById("kataloading").innerHTML = "Sek, Dilut maneh..."
if(text =="ganda"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
var myModal = new bootstrap.Modal(document.getElementById("modalwaganda"), {backdrop:'static',keyboard:false});
myModal.show();
}
else if(text =="error"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
var myModal = new bootstrap.Modal(document.getElementById("modalerror"), {backdrop:'static',keyboard:false});
myModal.show();
}
else if(text =="Penuh"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
clearstorage()
sessionStorage.clear()
var myModal = new bootstrap.Modal(document.getElementById("kuotapenuh"), {backdrop:'static',keyboard:false});
myModal.show();
}
else {
sessionStorage.setItem("newID",text[0])
suksesUploadNew(text[0],text[1],text[2],localStorage.getItem("angkatan"))
}
	  })
	  })
}
}
function suksesUploadNew(param){
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=convertPDF&data="+param, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	clearstorage()
	if (document.getElementById("hadir").checked == true){localStorage.setItem("simpan","hadir")}
	else {localStorage.setItem("simpan","gakhadir")}
	location.reload();
	})
	})
}
function ubahdata(){
masuklocal()
document.getElementById("nama").disabled = false
document.getElementById("2017").disabled = false
document.getElementById("2018").disabled = false
document.getElementById("2019").disabled = false
document.getElementById("wa").disabled = false
document.getElementById("email").disabled = false
document.getElementById("btns2").disabled = false
document.getElementById("btnnext").style.display = "block";
document.getElementById("btns2").style.display = "block";
document.getElementById("btnbatal").style.display = "none";
}
function batalubah(){
document.getElementById("nama").value = localStorage.getItem("nama")
var angkatan = localStorage.getItem("angkatan")
document.getElementById(angkatan).checked = true
document.getElementById("wa").value = localStorage.getItem("wa")
var rsvp = localStorage.getItem("rsvp")
document.getElementById(rsvp).checked = true
document.getElementById("email").value = localStorage.getItem("email")
kunci()
document.getElementById("btnnext").style.display = "none";
document.getElementById("btns2").style.display = "none";
document.getElementById("btnbatal").style.display = "block";
clearstorage()
}
function siapupload(param) {
document.getElementById("kataloading").innerHTML = "Sek, sabar..."
if (param=="" || param==null){
suksesUpload()
}
else if(param =="ganda"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
var myModal = new bootstrap.Modal(document.getElementById("modalwaganda"), {backdrop:'static',keyboard:false});
myModal.show();
}
else if(param =="error"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
var myModal = new bootstrap.Modal(document.getElementById("modalerror"), {backdrop:'static',keyboard:false});
myModal.show();
}
else if(param =="Penuh"){
bukakunci()
document.getElementById("btnnext").style.display = "block";
document.getElementById("load").style.display = "none";
clearstorage()
sessionStorage.clear()
var myModal = new bootstrap.Modal(document.getElementById("kuotapenuh"), {backdrop:'static',keyboard:false});
myModal.show();
}
else {
sessionStorage.setItem("newID",param[0])
google.script.run.withSuccessHandler(suksesUpload).convertPDF(param[0],param[1],param[2],localStorage.getItem("angkatan"))
}
}
function ubahkehadiran(){
if(document.getElementById("hadir").checked == true) {
var myModal = new bootstrap.Modal(document.getElementById("modalbatal"), {backdrop:'static',keyboard:false});
myModal.show();
}
else {
var myModal = new bootstrap.Modal(document.getElementById("modalubah"), {backdrop:'static',keyboard:false});
myModal.show();
}
}
function batalgakhadir() {
document.getElementById("hadir").checked = true
document.getElementById("btnceknomor").disabled = true
document.getElementById("btnnext").disabled = true
document.getElementById("btnsubmit").disabled = true
document.getElementById("btnbatal").style.display = "none";
document.getElementById("loadbatal").style.display = "block";
var ID = sessionStorage.getItem("ID")
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=cekemailbyID&data="+ID, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	if ( text == "" ) {
	var myModal = new bootstrap.Modal(document.getElementById("modalemail"), {backdrop:'static',keyboard:false});
	myModal.show();
	}
	else{
	var param = [ID,text]
	fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=simpanemail&data="+param, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	if (text == "penuh"){
	clearstorage()
	sessionStorage.clear()
	var myModal = new bootstrap.Modal(document.getElementById("kuotapenuh"), {backdrop:'static',keyboard:false});
	myModal.show();
	}
	else {sukseshadir()}
	})})
	}
	})})
}
function hasilemail(email){
if(email == ""){
var myModal = new bootstrap.Modal(document.getElementById("modalemail"), {backdrop:'static',keyboard:false});
myModal.show();
}
else{
email = document.getElementById("email").value
var ID = sessionStorage.getItem("ID")
google.script.run.withSuccessHandler(sukseshadir).simpanemail(ID,email)
}
}
function test(){
var email = document.getElementById("emailmodal").value
if(email ==""){alert("Isi kolom email terlebih dahulu")}
else{
document.getElementById("emailmodal").value = email
var ID = sessionStorage.getItem("ID")
var param = [ID,email]
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=simpanemail&data="+param, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	if (text == "penuh"){
	clearstorage()
	sessionStorage.clear()
	var myModal = new bootstrap.Modal(document.getElementById("kuotapenuh"), {backdrop:'static',keyboard:false});
	myModal.show();
	}
	else {sukseshadir()}
	})})
}
}
function sukseshadir(){
document.getElementById("btnbatal").style.display = "block";
document.getElementById("loadbatal").style.display = "none";
localStorage.setItem("hadir", "berhasil")
location.reload();
}
function batalhadir() {
document.getElementById("btnceknomor").disabled = true
document.getElementById("btnnext").disabled = true
document.getElementById("btnsubmit").disabled = true
var ID = sessionStorage.getItem("ID")
document.getElementById("btnbatal").style.display = "none";
document.getElementById("loadbatal").style.display = "block";
localStorage.setItem("hapus", "berhasil")
sessionStorage.clear()
fetch("https://script.google.com/macros/s/AKfycbzvA7CJcXQtf76ePw2zMi9yI7Q5yWwIDStaU_WR/exec?action=batalhadir&data="+ID, {
  'method' : 'get'}).then(function(response) {
    return response.text().then(function(text) {
	location.reload();
	})})
}
function refresh(){
location.reload()
}
function copy(apa, metode) {
var el = document.createElement('textarea');
  el.value = metode;
  document.body.appendChild(el);
  el.select();
  document.execCommand('copy');
  document.body.removeChild(el);
  var myModal = new bootstrap.Modal(document.getElementById("modalcopy"), {backdrop:'static',keyboard:false});
  document.getElementById("copy").innerHTML = apa+" disalin"
  myModal.show()
}
function showupload() {
document.getElementById("upload").style.display = "block"
}

function kunci(){
document.getElementById("nama").disabled = true
document.getElementById("2017").disabled = true
document.getElementById("2018").disabled = true
document.getElementById("2019").disabled = true
document.getElementById("wa").disabled = true
document.getElementById("hadir").disabled = true
document.getElementById("gakhadir").disabled = true
document.getElementById("email").disabled = true
}
function bukakunci(){
document.getElementById("nama").disabled = false
document.getElementById("2017").disabled = false
document.getElementById("2018").disabled = false
document.getElementById("2019").disabled = false
document.getElementById("wa").disabled = false
document.getElementById("email").disabled = false
}
function clearstorage(){
localStorage.removeItem("nama")
localStorage.removeItem("angkatan")
localStorage.removeItem("wa")
localStorage.removeItem("rsvp")
localStorage.removeItem("email")
}
function suksesUpload(){
document.getElementById("kataloading").innerHTML = "Dilut maneh..."
if (sessionStorage.getItem("ID") == "new"){
  sessionStorage.setItem("ID", sessionStorage.getItem("newID"))
  localStorage.removeItem("edit")
  if (localStorage.getItem("rsvp") == "hadir"){
    clearstorage()
    sessionStorage.clear()
    localStorage.setItem("simpan","hadir")
    google.script.run.withSuccessHandler(refreshApp).reload("rsvp")
  }
  else {
  clearstorage()
  sessionStorage.clear()
    localStorage.setItem("simpan","gakhadir")
    google.script.run.withSuccessHandler(refreshApp).reload("rsvp")
  }
  
}
else {
  var myModal = new bootstrap.Modal(document.getElementById("suksesubah"), {backdrop:'static',keyboard:false});
    myModal.show();
    kunci()
    document.getElementById("btnbatal").style.display = "block"
    document.getElementById("btnbatal").disabled = false
    document.getElementById("load").style.display = "none"
    document.getElementById("btns2").style.display = "none"
	  clearstorage()
}
}
function salin(apa, metode) {
var el = document.createElement('textarea');
  el.value = metode;
  document.body.appendChild(el);
  el.select();
  document.execCommand('copy');
  document.body.removeChild(el);
  var myModal = new bootstrap.Modal(document.getElementById("modalcopy"), {backdrop:'static',keyboard:false});
  document.getElementById("copy").innerHTML = apa+" disalin"
  myModal.show()
}
function refreshApp(newHtml) {
    document.open();
    document.write(newHtml)
    document.close();
  }
function saveFile(f) {
document.getElementById("file").style.display = "none";
document.getElementById("upload").style.display = "block";
    const file = f.files[0];
    const fr = new FileReader();
    fr.onload = function(e) {
      const obj = {
        filename: file.name,
        mimeType: file.type,
        bytes: [...new Int8Array(e.target.result)]
      };
      var nama = document.getElementById("nama").value
      var ID = sessionStorage.getItem("ID")
      document.getElementById("upload").style.display = "block";
      google.script.run.withSuccessHandler(uploadBukti).saveFile(obj, nama, ID);
    };
    fr.readAsArrayBuffer(file);
}
function uploadBukti(url){
document.getElementById("buktitrf").style.display = "block";
document.getElementById("buktitrf").src = url;
document.getElementById("file").style.display = "block";
document.getElementById("upload").style.display = "none";
document.getElementById("suksesupload").style.display = "block"
clearstorage()
localStorage.removeItem("new")
localStorage.removeItem("editbaru")
}
function myFunction(event) {
  var x = event.which || event.keyCode;
  if (x == 32){
  hasil = document.getElementById("email").value.trimEnd()}
}
function myFunction2(event) {
  var x = event.which || event.keyCode;
  if (x == 32){
  document.getElementById("email").value = hasil}
}
function myFunctionModal(event) {
  var x = event.which || event.keyCode;
  if (x == 32){
  hasil = document.getElementById("emailmodal").value.trimEnd()}
}
function myFunction2Modal(event) {
  var x = event.which || event.keyCode;
  if (x == 32){
  document.getElementById("emailmodal").value = hasil}
}
function keytest(event){
  var x = event.which || event.keyCode;
  alert(x)
}
document.addEventListener("DOMContentLoaded", awal);
document.getElementById("btnUlang").addEventListener("click",tombol);
</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  </body>
</html>
